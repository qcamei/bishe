<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="keywords" content="scclui框架">
    <meta name="description" content="scclui为轻量级的网站后台管理系统模版。">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <title>房间总览</title>
</head>
<link rel="stylesheet" href="../assets/css/bootstrap.min.css"/>
<link rel="stylesheet" href="../assets/font-awesome/4.2.0/css/font-awesome.min.css"/>

<link rel="stylesheet" href="../assets/fonts/fonts.googleapis.com.css"/>

<link rel="stylesheet" href="../assets/css/ace.min.css"/>

<link rel="stylesheet" href="../assets/css/ace-part2.min.css"/>
<link rel="stylesheet" href="../assets/css/ace-rtl.min.css"/>

<link rel="stylesheet" href="../assets/css/ace-ie.min.css"/>
<script src="../assets/js/html5shiv.min.js"></script>
<script src="../assets/js/respond.min.js"></script>
<script src="../assets/js/jquery.2.1.1.min.js"></script>
<script>
    $(function () {
        var token = localStorage.getItem("token");
        $.ajax({
            url: "http://localhost:8002/hotel/hotels/hotel",
            type: "GET",
            async: false,
            dataType: "json",
            beforeSend: function (e) {
                e.setRequestHeader("Authorization", "bearer " + token);
            },
            success: function (data) {
                var i = 0;
                var context = "";
                var type;
                var booked;
                for (i in data) {
                    if (data[i].roomType == "1") {
                        type = "单人";
                    } else {
                        type = "双人";
                    }
                    if (data[i].booked == true) {
                        booked = "已预订";
                    } else {
                        booked = "空房";
                    }
                    context += "<div style=\"height: 70px;text-align: center;line-height: 70px;border-bottom:1px solid #2b3d53;\">" +
                        "<div class=\"col-md-2\">" + data[i].roomId + "</div>" +
                        "<div class=\"col-md-2\">" + type + "</div>" +
                        "<div class=\"col-md-2\"><img style=\"width: 60px;height: 60px;\" src=\"http://localhost:8002/hotel/resources/" + data[i].roomPicturePath + "\"></div>" +
                        "<div class=\"col-md-2\">" + data[i].roomPrice + "</div>" +
                        "<div class=\"col-md-2\">" + booked + "</div>" +
                        "<div class=\"col-md-2\">" +
                        "<button onclick=\"hotelEdit("+data[i].roomId+")\" type=\"button\" class=\"glyphicon glyphicon-edit btn-xs btn-primary\" style=\"border: none;\">" +
                        "</button>&nbsp;" +
                        "<button onclick=\"hotelDelete("+data.roomId+")\" type=\"button\" class=\"glyphicon glyphicon-trash btn-xs btn-danger\" style=\"border: none;\">" +
                        "</button></div>" +
                        "</div>";
                    $("#roomList").append(context);
                    context = "";
                }
            }
        });
    })
</script>
<style>
    td {
        height: 50px;
        text-align: center;
        line-height: inherit;
    }
</style>
<body>
<table id="roomList" class="table table-hover">
    <div style="height: 70px;text-align: center;line-height: 70px;border-bottom:1px solid #000;">
        <div class="col-md-2">房间号</div>
        <div class="col-md-2">房间类型</div>
        <div class="col-md-2">图片简介</div>
        <div class="col-md-2">价格</div>
        <div class="col-md-2">是否预订</div>
        <div class="col-md-2">操作</div>
<!--        <button type="button" class="glyphicon glyphicon-edit btn-xs btn-primary" style="border: none;">
        </button>&nbsp;
        <button type="button" class="glyphicon glyphicon-trash btn-xs btn-danger" style="border: none;">
        </button>-->
    </div>
    <div style="height: 70px;text-align: center;line-height: 70px;border-bottom:1px solid #000;">
        <div class="col-md-2" style="border-right:1px solid #000;">单人</div>
        <div class="col-md-2"><img style="width: 60px;height: 60px;"
                                   src="http://localhost:8002/hotel/resources/u=1208544201,1064095414&fm=72.jpg"></div>
        <div class="col-md-2">120</div>
    </div>
</table>
</body>
</html>
