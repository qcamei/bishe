<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="../assets/js/jquery.2.1.1.min.js"></script>
<script>
    function add() {
        var token = localStorage.getItem("token"),
            roomId = $("#roomId").val(),
            roomType = $("#roomType").val(),
            roomPrice = $("#roomPrice").val();

        var file = document.getElementById("roomPicturePath").files[0];
        var formData = new FormData();
        formData.append('roomId', roomId);
        formData.append('roomType', roomType);
        formData.append('roomPrice', roomPrice);
        formData.append('file', file);

        $.ajax({
            url: "http://localhost:8002/hotel/hotels/hotel",
            type: "POST",
            contentType: "application/json;charset=utf-8",
            async: false,
            data: formData,
            contentType: false,
            processData: false,
            mimeType: "multipart/form-data",
            beforeSend: function (e) {
                e.setRequestHeader("Authorization", "bearer " + token);
            },
            success: function (data) {
                alert("添加成功！");
                window.location.href="http://localhost:8002/static/resources/index.html";
            }
        });
    }
</script>
<body>
<form id="roomInfo" name="Form1" action="http://localhost:8080/cons/hotel/addHotel" method="post" enctype="multipart/form-data">
    &nbsp;
    <table style="border-collapse:separate; border-spacing:0px 15px;" width="80%" align="center" bgColor="#efeef0" >
        <tr border="1">
            <td align="center" bgColor="#efeef0" colSpan="1" height="50">
                <strong>添加房间</strong>
            </td>
        </tr>
        <tr style="border: 1px solid;">
            <td width="15%" align="center" bgColor="#efeef0" >
                酒店房号：
            </td>
            <td bgColor="#efeef0">
                <input type="text" name="roomId" value="" id="roomId" style="height: 30px;width: 200px"/>
            </td>
        </tr>
        <tr>
            <td width="15%" align="center" bgColor="#efeef0">
                酒店价格：
            </td>
            <td  bgColor="#efeef0">
                <input type="text" name="shop_price" value="" id="roomPrice" style="height: 30px;width: 200px"/>
            </td>
        </tr>
        <tr>
            <td width="15%" align="center" bgColor="#efeef0">
                酒店图片：
            </td>
            <td bgColor="#efeef0">
                <input type="file" name="upload" id="roomPicturePath" style="height: 30px;width: 200px" />
            </td>
        </tr>
        <tr>
            <td width="15%" align="center" bgColor="#efeef0" >
                酒店类别：
            </td>
            <td bgColor="#efeef0"  name="roomType">
                <select name="cid" style="height: 30px;width: 200px" id="roomType">
                    <option value="1">单人</option>
                    <option value="2">双人</option>
                </select>
            </td>
        </tr>
        <tr>
            <td width="15%" align="center" bgColor="#efeef0" >
                <INPUT type="button" onclick="add()" value="确定"/>
            </td>
            <td width="15%" align="center" bgColor="#efeef0" >
                <button type="reset" value="重置" class="button_cancel">重置</button>
            </td>
            <td width="15%" align="center" bgColor="#efeef0" >
                <INPUT class="button_ok" type="button" onclick="history.go(-1)" value="返回"/>
            </td>
            <td></td>
        </tr>
    </table>
</form>
</body>
</html>